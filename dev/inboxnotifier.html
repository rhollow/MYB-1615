<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">

    <head>

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Sakai 3 R&amp;D - __MSG__NOTIFICATIONS__</title>

        <!-- Sakai Core CSS -->
        <link rel="stylesheet" type="text/css" href="_css/FSS/fss-base.css" />
        <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.base.css" />
        <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.core.2.css" />
        <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.3.css" />

        <!-- Sakai Page CSS -->
        <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.inboxnotifier.css" />

        <!-- 3rd party CSS -->
        <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.components.jq_pager.css" />
        <link rel="stylesheet" type="text/css" href="_lib/jquery/plugins/gritter/css/jquery.gritter.css" />
        
        <!-- Sakai Config JS -->
        <script type="text/javascript" src="_configuration/widgets.js"></script>
        <script type="text/javascript" src="/var/widgets.json?callback=sakai.storeWidgets"></script>
        <script type="text/javascript" src="_configuration/config.js"></script>
        <script type="text/javascript" src="_configuration/config_custom.js"></script>

        <!-- Core 3rd-party JS -->
        <script type="text/javascript" src="_lib/jquery/jquery.js"></script>
        <script type="text/javascript" src="_lib/jquery/jquery-ui.full.js"></script>
        <script type="text/javascript" src="_lib/Fluid/3akai_Infusion.js"></script>
        <script type="text/javascript" src="_lib/jquery/plugins/jquery.json.js"></script>
        <script type="text/javascript" src="_lib/google/html-sanitizer-minified.js"></script>

        <!-- Sakai Core JS -->
        <script type="text/javascript" src="_lib/sakai_util/sakai_magic.js"></script>
        <script type="text/javascript" src="_lib/sakai_util/i18n.js"></script>

        <!-- 3rd party JS -->
        <script type="text/javascript" src="/dev/_lib/sakai_util/trimpath.template.js"></script>
        <script type="text/javascript" src="/dev/_lib/sakai_util/querystring.js"></script>
        <script type="text/javascript" src="/dev/_lib/jquery/plugins/jqmodal.sakai-edited.js"></script>
        <script type="text/javascript" src="/dev/_lib/jquery/plugins/jquery.cookie.js"></script>
        <script type="text/javascript" src="/dev/_lib/jquery/plugins/jquery.pager.js"></script>
        <script type="text/javascript" src="/dev/_lib/jquery/plugins/jquery.ba-bbq.js"></script>
        <script type="text/javascript" src="/dev/_lib/jquery/plugins/gritter/jquery.gritter.js"></script>
        <script type="text/javascript" src="/dev/_lib/jquery/plugins/jquery.autoSuggest.sakai-edited.js"></script>
        
    </head>

    <body class="fl-centered inbox_main inbox_detail i18nable">               

        <!-- NAVIGATION -->
        <div id="widget_topnavigation" class="widget_inline"></div>

        <!-- HEADER -->
        <div class="fl-container-flex header">
            <div class="fl-fix fl-centered fixed-container">
                <div class="decor"></div>
            
                <!-- TITLE BAR  -->
                <div class="s3d-site-heading">
                    <h1 id="sitetitle">__MSG__GROUP_NOTIFICATION_MANAGER__</h1>
                </div>
            </div>
        </div>

        <!-- CONTENT -->
        <div class="fl-fix fl-centered fixed-container">

            <!-- MAIN PAGE -->
            <div class="fl-fix fl-col-mixed main_container">

                <!-- Nav -->
                <div class="fl-col fl-fix side_panel">

                    <button id="inbox-new-button" class="s3d-button"><span id="inbox-new-button-inner" class="s3d-button-inner">__MSG__CREATE_NEW__</span></button>
                    
                    <!-- SIDE FOLDERS -->
                    <div class="inbox-folders" id="inbox_folders">

                        <div class="if_titlebar">
                            <div class="if_titlebar_inner"><h2 class="if_title">__MSG__NOTIFICATIONS__</h2></div>
                        </div>                                                
                        
                        <div class="if_content">                                                       
                            <div id="tab-drafts" class="tab current_tab"><div><a href="javascript:;" class="inbox_filter" id="inbox_filter_drafts">__MSG__DRAFTS__</a></div></div>                              
                            <div id="tab-queue" class="tab"><div><a href="javascript:;" class="inbox_filter" id="inbox_filter_queue">__MSG__QUEUE__</a></div></div>							
							<div id="tab-archive" class="tab"><div><a href="javascript:;" class="inbox_filter" id="inbox_filter_archive">__MSG__ARCHIVE__</a></div></div>
                            <div id="tab-trash" class="tab"><div><a href="javascript:;" class="inbox_filter" id="inbox_filter_trash">__MSG__TRASH__</a></div></div>
                        </div>
                        
                        <div class="if_bottom">
                            <div class="if_bottom_inner"></div>
                        </div>

                    </div>

                </div>

                <!-- Main -->
                <div class="col-main">

                    <!-- INBOXES OF NOTIFICATIONS (DEFAULT VIEW) -->
                    <div id="inbox_pane_inbox" class="inbox_pane">                        

                        <form name="my-inbox" action="" method="post">                            
                            
                            <!-- HEADERS -->
                            <div class="top_decor">                                                               
                                <div class="inbox-heading inbox_inbox_header" id="inbox_drafts">__MSG__DRAFTS__</div>                                
                                <div class="inbox-heading inbox_inbox_header" id="inbox_queue" style="display:none;">__MSG__QUEUE__</div>
                                <div class="inbox-heading inbox_inbox_header" id="inbox_archive" style="display:none;">__MSG__ARCHIVE__</div>
                                <div class="inbox-heading inbox_inbox_header" id="inbox_trash" style="display:none;">__MSG__TRASH__</div>
                            </div>

                            <!-- INBOX -->
                            <div class="main_content_container">
                                <table class="inbox-table" id="inbox_table" summary="All of your notification drafts.">
                                    <tr class="different">
                                        <th id="inbox_table_header_chk"><input type="checkbox" id="inbox_inbox_checkAll" title="__MSG__CHECK_ALL__" /></th>
                                        <th class="inbox_inbox_table_header_sort" id="inbox_table_header_from"><span>__MSG__FROM__</span></th>
                                        <th class="inbox_inbox_table_header_sort" id="inbox_table_header_subject"><span>__MSG__SUBJECT__</span></th>                                      
                                        <th class="inbox_inbox_table_header_sort" id="inbox_table_header_date"><span>__MSG__SEND_DATE__</span></th>
                                    </tr>
                                </table>
                            </div>                                                                                                         

                            <div class="bottom_decor">
                                <div id="inbox_pager" class="jq_pager"></div>
                            </div>

                            <div id="inbox_inbox_sort_up" style="display:none;"><img src="_images/arrow_up_inbox.png" alt="__MSG__UP__" class="inbox_arrow" /></div>
                            <div id="inbox_inbox_sort_down" style="display:none;"><img src="_images/arrow_down_inbox.png" alt="__MSG__DOWN__" class="inbox_arrow" /></div>

                            <div id="inbox_inbox_messages_template" title=""><!--
                            {for m in messages}
                                {var readClass="inbox-subject-unread"}								
                                {if m.read}
                                    {var readClass="inbox-subject-read"}
                                {/if}
								{var validatedClass=""}
								{if !m['sakai:validated'] && m.messagebox === "drafts"}
                                    {var validatedClass="inbox-message-unvalidated"}
                                {/if}
								
                                <tr class="inbox_message ${readClass} ${validatedClass}" id="inbox_table_message_${m['jcr:name']}">
                                    <td><input type="checkbox" class="inbox_inbox_check_message" value="${m['jcr:path']}" id="inbox_check_delete_${m['jcr:name']}" title="__MSG__DELETE__" alt="${m['sakai:validated']}" /></td>
                                        {if m.messagebox === "outbox"}
                                            {if m.userTo}
                                                <td>
                                                {for toUser in m.userTo}
                                                    <a class="inbox_inbox_message_from" href="/dev/profile.html?user=${toUser.userid}">${toUser.firstName} ${toUser.lastName}</a>
                                                {/for}
                                                </td>
                                            {else}
                                                <td><a class="inbox_inbox_message_from" href="/dev/profile.html?user=${m['sakai:to']}">${m['sakai:to']}</a></td>
                                            {/if}
                                        {else}
                                            {if m.userFrom}
                                                <td>
                                                {for fromUser in m.userFrom}
                                                    <a class="inbox_inbox_message_from" href="/dev/profile.html?user=${fromUser.userid}">${fromUser.firstName} ${fromUser.lastName}</a>
                                                {/for}
                                                </td>
                                            {else}
                                                <td><a class="inbox_inbox_message_from" href="/dev/profile.html?user=${m['sakai:from']}">${m['sakai:to']}</a></td>
                                            {/if}
                                        {/if}
                                        <td id="inbox_table_subject_${m.id}"><a href="javascript:;" class="inbox_inbox_message" id="inbox_inbox_message_${m['jcr:name']}">${m.subject}</a></td>
                                        <td>${m.date}</td>
                                </tr>
                            {forelse}
                                <tr class="inbox_message">
                                    <td colspan="5" class="inbox_message_none">__MSG__NO_MESSAGES_FOUND__.</td>
                                </tr>
                            {/for}
                            --></div>

                            <div id="inbox_table_preloader"><!--
                                <tr class="inbox_message">
                                    <td colspan="5" class="inbox_message_none"><img src="/dev/_images/ajax-loader-gray.gif" alt="__MSG__LOADING_PLEASE_HOLD_ON__." /></td>
                                </tr>
                            --></div>
                            
                            <div id="inbox_results"></div>
                        </form>
                        
                        <!-- BUTTON LISTS-->
						<div class="button-list" id="buttons-drafts">
						    <button id="inbox-movetoqueue-button" class="s3d-button"><span class="s3d-button-inner">__MSG__QUEUE__</span></button>
							<button id="inbox-draftsdelete-button" class="s3d-button"><span class="s3d-button-inner">__MSG__DELETE__</span></button>
                            <button id="inbox-copy-button" class="s3d-button"><span class="s3d-button-inner">__MSG__COPY__</span></button>                                                        					
					   </div>                       
					   <div class="button-list" id="buttons-queue" style="display:none;">
                            <button id="inbox-movetodrafts-button" class="s3d-button"><span class="s3d-button-inner">__MSG__MOVE_TO_DRAFTS__</span></button>
						    <button id="inbox-copytodrafts-button" class="s3d-button"><span class="s3d-button-inner">__MSG__COPY_TO_DRAFTS__</span></button>
                            <button id="inbox-queuedelete-button" class="s3d-button"><span class="s3d-button-inner">__MSG__DELETE__</span></button>                                                                                    			
					   </div>
                       <div class="button-list" id="buttons-archive" style="display:none;">						    
                            <button id="inbox-copytodrafts-button" class="s3d-button"><span class="s3d-button-inner">__MSG__COPY_TO_DRAFTS__</span></button>                            
					   </div>
                       <div class="button-list" id="buttons-trash" style="display:none;">
						    <button id="inbox-emptytrash-button" class="s3d-button"><span class="s3d-button-inner">__MSG__EMPTY_TRASH__</span></button>                            
                            <button id="inbox-movetodrafts-button" class="s3d-button"><span class="s3d-button-inner">__MSG__MOVE_TO_DRAFTS__</span></button>                           				
					   </div>                                              
                        
                    </div>                   
                    
                    <!-- NOTIFICATION COMPOSING & DETAILS -->
                    <div id="inbox_pane_compose" class="inbox_pane" style="display:none;">

                        <div class="top_decor">
                            <!-- Header -->
                            <div class="inbox-heading">__MSG__CREATE_OR_EDIT_A_NOTIFICATION__</div>
                        </div>

                        <!-- Create/Edit Notification -->
                        <div class="main_content_container">
                            <div class="compose-notification">                               
                                    <div id="inbox_compose_new_container">
                                        <div id="widget_composenotification" class="widget_inline"></div>
                                    </div>                                
                            </div>
                        </div>

                        <div class="bottom_decor"></div>
                        
                        <!-- Button Lists-->
                        <div class="button-list notifdetail-buttons" id="createnew-buttons">
                            <button id="cn-cancel-button" class="s3d-button"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>    
                            <button id="cn-queue-button" class="s3d-button"><span class="s3d-button-inner">__MSG__QUEUE__</span></button>
                            <button id="cn-saveasdraft-button" class="s3d-button"><span class="s3d-button-inner">__MSG__SAVE_AS_DRAFT__</span></button>							
                        </div>  
                        <div class="button-list notifdetail-buttons" id="editdraft-buttons" style="display:none;">
                            <button id="cn-queuedraft-button" class="s3d-button"><span class="s3d-button-inner">__MSG__QUEUE__</span></button>
                            <button id="cn-updatedraft-button" class="s3d-button"><span class="s3d-button-inner">__MSG__SAVE_AS_DRAFT__</span></button>                                                           				
                            <button id="cn-deletedraft-button" class="s3d-button"><span class="s3d-button-inner">__MSG__DELETE__</span></button>
                        </div> 
                        <div class="button-list notifdetail-buttons" id="queueview-buttons" style="display:none;">
                            <button id="cn-movetodrafts-button" class="s3d-button"><span class="s3d-button-inner">__MSG__MOVE_TO_DRAFTS__</span></button>                                                                                  			
                            <button id="cn-copytodrafts-button" class="s3d-button"><span class="s3d-button-inner">__MSG__COPY_TO_DRAFTS__</span></button>
                            <button id="cn-deletequeued-button" class="s3d-button"><span class="s3d-button-inner">__MSG__DELETE__</span></button>
                        </div>  
                        <div class="button-list notifdetail-buttons" id="trashview-buttons" style="display:none;">
                            <button id="cn-editrashed-button" class="s3d-button"><span class="s3d-button-inner">Enable Editing</span></button>                                                                                  			
                            <button id="cn-deletetrashed-button" class="s3d-button"><span class="s3d-button-inner">__MSG__DELETE__</span></button>
                        </div>                                                                                                  
                    </div>
                    
                    <!-- VIEW A SPECIFIC MESSAGE -->
                    <div id="inbox_pane_message" class="inbox_pane" style="display:none;">                       

                        <div class="top_decor">
                            <!-- <div class="inbox-heading">__MSG__MESSAGE__</div> -->
                            <div class="message-header" id="inbox_message_subject"></div>
                        </div>

                        <div class="main_content_container">
                            <!-- Sender details -->
                            <div class="sender_details">
                                <div class="sender_picture_container">
                                    <a href="javascript:;" title="__MSG__TO_SEE_THE_SENDERS_PROFILE__"><img src="/dev/_images/profile_picture.gif" class="sender-picture" id="inbox_message_picture" alt="__MSG__SENDERS_PROFILE_PIC__" /></a>
                                </div>
                                <div class="inbox_message_user">
                                    <a href="javascript:;" class="sender-name" id="inbox_message_from" title="__MSG__FROM__"></a>
                                    <br />
                                    <div class="sender-timestamp">__MSG__SENT_THIS_ON__ <span id="inbox_message_date"></span></div>
                                </div>
                            </div>

                            <!-- Message -->
                            <div class="sender-body">
                                <div class="message-arrow"></div>

                                <div class="sender-message">
                                    <div class="message-body">

                                        <!-- <div class="message-header" id="inbox_message_subject"></div> --> 

                                        <div id="inbox_message_body"></div>                                        

                                    </div>
                                </div>
                                
                            </div>
                                                        
                        </div>

                        <div class="bottom_decor"></div>

                    </div>                                                                                              

                </div>
            </div>
        </div>

        <!-- FOOTER WIDGET -->
        <div id="widget_footer" class="widget_inline footercontainer"></div>

        <!-- CHAT -->
        <div id="widget_chat" class="widget_inline"></div>

        <!-- ERRORS AND MESSAGES -->
        <div id="inbox_generalmessages_error_general" style="display:none;"><b>__MSG__AN_ERROR_HAS_OCCURRED__.</b> __MSG__PLEASE_TRY_AGAIN_LATER__.</div>
        <span id="inbox_generalmessages_error_read_fail" style="display:none;">__MSG__FAILED_TO_MARK_THIS_MESSAGE_AS_READ__.</span>
        <span id="inbox_generalmessages_error_send_fail" style="display:none;">__MSG__UNABLE_TO_SEND_YOUR_MESSAGE__.</span>
        <span id="inbox_generalmessages_deleted_1" style="display:none;">__MSG__THE_MESSAGE_HAS_BEEN_DELETED__.</span>
        <span id="inbox_generalmessages_deleted_x" style="display:none;"> __MSG__MESSAGES_HAVE_BEEN_DELETED__.</span>
        <span id="inbox_generalmessages_deleted_failed" style="display:none;">__MSG__UNABLE_TO_DELETE_MESSAGES__.</span>
        <span id="inbox_generalmessages_moved_1" style="display:none;">The message has been moved to </span>
        <span id="inbox_generalmessages_moved_x" style="display:none;"> messages have been moved to </span>
        <span id="inbox_generalmessages_moved_failed" style="display:none;">There was an error in moving your messages.</span>
        <span id="inbox_generalmessages_copied_1" style="display:none;">The message has been copied to </span>
        <span id="inbox_generalmessages_copied_x" style="display:none;"> messages have been copied to </span>
        <span id="inbox_generalmessages_copied_failed" style="display:none;">There was an error in copying your messages.</span>
        <div id="inbox_generalmessages_nr_new_messages" style="display:none;"> <span class="inbox_bold inbox_filter_nrMessages">(__NR__)</span></div>
        <span id="inbox_generalmessages_sent" style="display:none;">__MSG__YOUR_MESSAGE_HAS_BEEN_SENT__.</span>        

        <script type="text/javascript" src="_javascript/inboxnotifier.js"></script>

    </body>

</html>
